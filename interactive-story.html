<!DOCTYPE html>
<html>
<head>
	<title>Interactive Story</title>
	<style type="text/css">
		.screen{
			width: 400px;
			height: 700px;
			border: 1px solid black;
			margin: auto;
			background: white;
			text-align: center;
			
			position: relative;
			display: inline-block;
			vertical-align: top;
			
			color: white;
			background: black;
			overflow: hidden;
			vertical-align: middle;
		}

		@font-face {
			font-family: "BodyFont";
			src: url("./Overpass-Light.ttf");
		}

		@font-face {
		  font-family: BodyFont;
		  src: url("./Overpass-Bold.ttf");
		  font-weight: bold;
		}	

		body{
			background: #333;
			font-family: "BodyFont";
			text-align: center;
			margin: 0px;
			padding: 0px;
		}

		.sticker{
			display: inline-block;
			margin: 15px;
			position: relative;	
		}

		.sticker.image{
			width: 200px;
			height: 150px;
			background-size: contain;
			background-position: center;
			background-repeat: no-repeat;
		}

		.sticker.text{
			padding: 5px 10px;
			border: 2px solid blue;
			color: blue;
			border-width: 2px 4px 4px 4px;
			transform: rotate(-5deg);
			background: white; 
			text-transform: uppercase;
		}

		video{
			position: relative;
			left: -350px;
			transition: all 0.5s;
		}

		.overlay{
			position: absolute;
			top:0px;
			left: 0px;
			width: 100%;
			height: 100%;
			padding-top: 100px;
			box-sizing: border-box;
		}

		.overlay:after,.overlay:before{
			content: "";
			position: absolute;
			bottom: -100px;
			left: 0px;
			height: 100px;
			background: #111;
			width: 100%;
			text-align: center;
			transition: all 0.5s;
		}

		.overlay:after{
			top: -100px;
			bottom: auto;
		}

		.overlay.active:before{
			transition: all 5s;
			bottom: 0px;
		}

		.overlay.active:after{
			transition: all 5s;
			top: 0px;
		}

		.sticker-party{
			position: absolute;
			bottom: 100px;
			left: 0px;
			text-align: center;
			width: 100%;

		}

		video.zoom{
			transform: scale(2);
			transition: all 5s;
		}

		.options{
			display: inline-block;
			vertical-align: middle;
			margin: 10px;
			padding: 10px;
			background: white;
		}

		input{
			color: white;
		}

	</style>
	<script type="text/javascript" src='./jquery-3.4.1.min.js'></script>
	<script type="text/javascript">
		$(function(){

			var iMoment = 0;

			var moments = [
				{start:1,end:4.3,options:['What a dickhead!','./sticker-lol.png','./sticker-omg.png']},
				{start:8,end:10,options:['GET ANGRY!','RAGE!','$^#&%!']},
				{start:12,end:14,options:['Total wipeout!','HAHA','Crazy shit!']},
			]

			var vid = $('video')[0];

			setInterval(tick,100);

			function tick(){

				if(!moments[iMoment].isShown && vid.currentTime > moments[iMoment].end){
					moments[iMoment].isShown = true;

					$('.overlay').empty();
					for(var s in moments[iMoment].options){
						var $s = $('<div class="sticker">').appendTo('.overlay').click(onSticker);

						if(moments[iMoment].options[s][0] == '.') $s.addClass('image').css({'background-image':'url('+moments[iMoment].options[s]+')'});
						else $s.addClass('text').html(moments[iMoment].options[s]);
					}
					$('.overlay').addClass('active');

					$('video').addClass('zoom');
					vid.playbackRate = 0.5;
				}

				//loop
				if(vid.currentTime > moments[iMoment].end) vid.currentTime = moments[iMoment].start;
			}

			function onSticker(e){
				$('.sticker-party').empty();
				$(e.target).appendTo('.sticker-party').delay(2000).animate({opacity:0});
				$('.overlay').removeClass('active');
				iMoment++;

				$('video').removeClass('zoom');
				vid.playbackRate = 1;
			}
		})
	</script>
</head>
<body>
	<div class='screen'>
		<video autoplay muted>
			<source src="./The Worst Rugby Tackle Ever.mp4" type="">
		</video>
		<div class='sticker-party'></div>
		<div class='overlay'></div>
	</div>
</body>
</html>